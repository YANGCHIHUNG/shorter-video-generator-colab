<!DOCTYPE html>
<html>
<head>
    <title>繁體中文選項檢查工具</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .checkbox-container { margin: 20px 0; }
        .result { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <h1>🔍 繁體中文選項檢查工具</h1>
    
    <div class="checkbox-container">
        <label>
            <input type="checkbox" id="traditional_chinese" name="traditional_chinese">
            🇹🇼 Traditional Chinese Subtitles
        </label>
        <p>Convert simplified Chinese subtitles to traditional Chinese (繁體中文)</p>
    </div>
    
    <button onclick="checkSettings()">檢查設定</button>
    <button onclick="simulateSubmit()">模擬提交</button>
    
    <div id="results"></div>
    
    <script>
        function checkSettings() {
            const checkbox = document.getElementById('traditional_chinese');
            const results = document.getElementById('results');
            
            results.innerHTML = '';
            
            // 檢查複選框狀態
            if (checkbox.checked) {
                results.innerHTML += '<div class="result success">✅ 繁體中文選項已勾選</div>';
            } else {
                results.innerHTML += '<div class="result error">❌ 繁體中文選項未勾選</div>';
            }
            
            // 檢查表單數據
            const formData = new FormData();
            formData.append('traditional_chinese', checkbox.checked ? 'on' : '');
            
            const traditionalChinese = formData.get('traditional_chinese') === 'on';
            
            if (traditionalChinese) {
                results.innerHTML += '<div class="result success">✅ FormData 轉換正確: true</div>';
            } else {
                results.innerHTML += '<div class="result error">❌ FormData 轉換結果: false</div>';
            }
        }
        
        function simulateSubmit() {
            const checkbox = document.getElementById('traditional_chinese');
            const results = document.getElementById('results');
            
            // 模擬實際提交數據
            const requestData = {
                traditional_chinese: checkbox.checked,
                enable_subtitles: true,
                pages: ['測試頁面內容'],
                resolution: 1080,
                voice: 'zh-TW-YunJheNeural'
            };
            
            results.innerHTML += '<div class="result warning">📤 模擬提交數據:</div>';
            results.innerHTML += '<pre>' + JSON.stringify(requestData, null, 2) + '</pre>';
            
            if (requestData.traditional_chinese) {
                results.innerHTML += '<div class="result success">✅ 參數傳遞正確：traditional_chinese = true</div>';
                results.innerHTML += '<div class="result success">🎉 應該會看到繁體中文字幕！</div>';
            } else {
                results.innerHTML += '<div class="result error">❌ 參數傳遞錯誤：traditional_chinese = false</div>';
                results.innerHTML += '<div class="result error">💥 會產生簡體中文字幕</div>';
            }
        }
        
        // 自動檢查
        document.getElementById('traditional_chinese').addEventListener('change', checkSettings);
    </script>
</body>
</html>
